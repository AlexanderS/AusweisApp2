LIST(APPEND CTEST_CUSTOM_COVERAGE_EXCLUDE "/test/")
LIST(APPEND CTEST_CUSTOM_COVERAGE_EXCLUDE "/external/")
LIST(APPEND CTEST_CUSTOM_COVERAGE_EXCLUDE "/utils/")
LIST(APPEND CTEST_CUSTOM_COVERAGE_EXCLUDE \\.moc moc_ qrc_ ui_ _ui)
LIST(APPEND CTEST_EXTRA_COVERAGE_GLOB *.cpp *.h)

SET(CTEST_SOURCE_DIRECTORY "@PROJECT_SOURCE_DIR@")
SET(CTEST_BINARY_DIRECTORY "@PROJECT_BINARY_DIR@")
SET(CTEST_CMAKE_GENERATOR "@CMAKE_GENERATOR@")
SET(CTEST_COMMAND @CMAKE_CTEST_COMMAND@)

IF(CMAKE_SCRIPT_MODE_FILE)
	INCLUDE(CTestCoverageCollectGCOV)
	ctest_coverage_collect_gcov(TARBALL ${CTEST_BINARY_DIRECTORY}/gcov.tar GCOV_COMMAND @COVERAGE_COMMAND@)
ENDIF()
